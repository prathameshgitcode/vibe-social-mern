{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\Prathamesh\\\\Desktop\\\\social\\\\SocialMedia-Project---MERN\\\\SocialMedia\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Prathamesh\\\\Desktop\\\\social\\\\SocialMedia-Project---MERN\\\\SocialMedia\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\Prathamesh\\\\Desktop\\\\social\\\\SocialMedia-Project---MERN\\\\SocialMedia\\\\client\\\\src\\\\scenes\\\\postDelete\\\\PostDelete.jsx\";\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, catch: function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nimport { Alert, AlertTitle, Backdrop, Button, Fade, IconButton, LinearProgress, Menu, MenuItem, Modal, Typography } from \"@mui/material\";\nimport React, { useCallback } from \"react\";\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\n// import { Button } from \"antd\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { setPost, setPosts } from \"../../state\";\nimport { UserPostDelete, UserPostReport } from \"../../api/PostRequest\";\nimport { useReducer } from \"react\";\nimport WidgetWrapper from \"../../components/WidgetWrapper\";\nimport { Box } from \"@mui/system\";\nimport EditPost from \"./EditPost\";\nimport { toast } from \"react-hot-toast\";\nvar ITEM_HEIGHT = 48;\nvar PostDelete = function PostDelete(_ref) {\n  var setLoading = _ref.setLoading,\n    postUserId = _ref.postUserId,\n    postId = _ref.postId,\n    description = _ref.description,\n    picturePath = _ref.picturePath;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    deleteAlert = _useState2[0],\n    setDeleteAlert = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    reportAlert = _useState4[0],\n    setReportAlert = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    editAlert = _useState6[0],\n    setEditAlert = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loader = _useState8[0],\n    setLoader = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    opened = _useState10[0],\n    setOpened = _useState10[1];\n  var handleOpened = function handleOpened() {\n    return setOpened(true);\n  };\n  var handleClosed = function handleClosed() {\n    return setOpened(false);\n  };\n  var _useState11 = useState(true),\n    _useState12 = _slicedToArray(_useState11, 2),\n    reportOff = _useState12[0],\n    serReportOff = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    loaderDelete = _useState14[0],\n    setLoaderDelete = _useState14[1];\n  var dispatch = useDispatch();\n  var _useState15 = useState(null),\n    _useState16 = _slicedToArray(_useState15, 2),\n    anchorEl = _useState16[0],\n    setAnchorEl = _useState16[1];\n  var open = Boolean(anchorEl);\n  var handleClick = function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  };\n  var handleClose = function handleClose() {\n    setAnchorEl(null);\n  };\n  var loggedInUserId = useSelector(function (state) {\n    return state.user._id;\n  });\n\n  //Delete Post\n\n  var deletePost = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(postId) {\n      var response, updatedPosts;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              console.log(postId, \"herer post Id\");\n              _context.next = 4;\n              return UserPostDelete(postId);\n            case 4:\n              response = _context.sent;\n              setLoader(true);\n              if (response.data.success) {\n                setLoaderDelete(true);\n                toast.success(response.data.message);\n                updatedPosts = response.data.newposts;\n                console.log(updatedPosts, \"ithannu new posts\");\n                dispatch(setPost({\n                  post: updatedPosts\n                }));\n                setLoading(false);\n                setLoader(false);\n              }\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 9]]);\n    }));\n    return function deletePost(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  //Report Post\n  var reportPost = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(postId) {\n      var response;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              console.log(postId, \"noww post Id \");\n              _context2.next = 4;\n              return UserPostReport(postId, loggedInUserId);\n            case 4:\n              response = _context2.sent;\n              console.log(response, \"report\");\n              if (response.data.success) {\n                serReportOff(false);\n                toast.success(response.data.message);\n\n                // let updatedPosts = response.data.newposts;\n                // console.log(updatedPosts, \"ithannu new posts\");\n                // dispatch(setPost({ post: updatedPosts }));\n                console.log(\"reported\");\n              } else {\n                serReportOff(false);\n                toast.error(response.data.message);\n              }\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.log(_context2.t0);\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 9]]);\n    }));\n    return function reportPost(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(IconButton, {\n    \"aria-label\": \"more\",\n    id: \"long-button\",\n    \"aria-controls\": open ? \"long-menu\" : undefined,\n    \"aria-expanded\": open ? \"true\" : undefined,\n    onClick: handleClick,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MoreVertIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    id: \"long-menu\",\n    MenuListProps: {\n      \"aria-labelledby\": \"long-button\"\n    },\n    anchorEl: anchorEl,\n    open: open,\n    onClose: handleClose,\n    PaperProps: {\n      style: {\n        maxHeight: ITEM_HEIGHT * 4.5,\n        width: \"40ch\"\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, postUserId === loggedInUserId ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 11\n    }\n  }, !deleteAlert ? /*#__PURE__*/React.createElement(Button, {\n    onClick: handleOpened,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 15\n    }\n  }, \"Edit Post\") : /*#__PURE__*/React.createElement(Button, {\n    size: \"medium\",\n    onClick: function onClick() {\n      setDeleteAlert(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }, \"Not Now\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      setDeleteAlert(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }\n  }, deleteAlert ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: \"error\",\n    action: /*#__PURE__*/React.createElement(Button, {\n      size: \"medium\",\n      onClick: function onClick() {\n        deletePost(postId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 23\n      }\n    }, \"Delete\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 19\n    }\n  }, \"Are You Sure?\")) : \"Delete Post\")) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, reportOff ? !reportAlert ? /*#__PURE__*/React.createElement(Button, {\n    size: \"medium\",\n    onClick: function onClick() {\n      setReportAlert(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 15\n    }\n  }, \"Report\") : null : \"\", reportOff ? reportAlert ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    severity: \"warning\",\n    action: /*#__PURE__*/React.createElement(Button, {\n      color: \"error\",\n      size: \"medium\",\n      onClick: function onClick() {\n        reportPost(postId);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 21\n      }\n    }, \"Report\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"Are You Sure?\")) : \"\" : \"\", reportOff ? reportAlert ? /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      setReportAlert(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 15\n    }\n  }, \"Go Back\") : null : \"\")), /*#__PURE__*/React.createElement(EditPost, {\n    opened: opened,\n    handleClosed: handleClosed,\n    postId: postId,\n    description: description,\n    picturePath: picturePath,\n    handleClose: handleClose,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 7\n    }\n  }));\n};\nexport default PostDelete;","map":{"version":3,"names":["Alert","AlertTitle","Backdrop","Button","Fade","IconButton","LinearProgress","Menu","MenuItem","Modal","Typography","React","useCallback","MoreVertIcon","useDispatch","useSelector","useEffect","axios","useState","setPost","setPosts","UserPostDelete","UserPostReport","useReducer","WidgetWrapper","Box","EditPost","toast","ITEM_HEIGHT","PostDelete","setLoading","postUserId","postId","description","picturePath","deleteAlert","setDeleteAlert","reportAlert","setReportAlert","editAlert","setEditAlert","loader","setLoader","opened","setOpened","handleOpened","handleClosed","reportOff","serReportOff","loaderDelete","setLoaderDelete","dispatch","anchorEl","setAnchorEl","open","Boolean","handleClick","event","currentTarget","handleClose","loggedInUserId","state","user","_id","deletePost","console","log","response","data","success","message","updatedPosts","newposts","post","reportPost","error","undefined","style","maxHeight","width"],"sources":["C:/Users/Prathamesh/Desktop/social/SocialMedia-Project---MERN/SocialMedia/client/src/scenes/postDelete/PostDelete.jsx"],"sourcesContent":["import {\r\n  Alert,\r\n  AlertTitle,\r\n  Backdrop,\r\n  Button,\r\n  Fade,\r\n  IconButton,\r\n  LinearProgress,\r\n  Menu,\r\n  MenuItem,\r\n  Modal,\r\n  Typography,\r\n} from \"@mui/material\";\r\nimport React, { useCallback } from \"react\";\r\nimport MoreVertIcon from \"@mui/icons-material/MoreVert\";\r\n// import { Button } from \"antd\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { setPost, setPosts } from \"../../state\";\r\nimport { UserPostDelete, UserPostReport } from \"../../api/PostRequest\";\r\nimport { useReducer } from \"react\";\r\nimport WidgetWrapper from \"../../components/WidgetWrapper\";\r\nimport { Box } from \"@mui/system\";\r\nimport EditPost from \"./EditPost\";\r\nimport { toast } from \"react-hot-toast\";\r\nconst ITEM_HEIGHT = 48;\r\n\r\nconst PostDelete = ({\r\n  setLoading,\r\n  postUserId,\r\n  postId,\r\n  description,\r\n  picturePath,\r\n}) => {\r\n  const [deleteAlert, setDeleteAlert] = useState(false);\r\n  const [reportAlert, setReportAlert] = useState(false);\r\n  const [editAlert, setEditAlert] = useState(false);\r\n  const [loader, setLoader] = useState(false);\r\n  const [opened, setOpened] = useState(false);\r\n  const handleOpened = () => setOpened(true);\r\n  const handleClosed = () => setOpened(false);\r\n\r\n  const [ reportOff , serReportOff] = useState(true);\r\n\r\n  const [loaderDelete, setLoaderDelete] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const open = Boolean(anchorEl);\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const loggedInUserId = useSelector((state) => state.user._id);\r\n\r\n  //Delete Post\r\n\r\n  const deletePost = async (postId) => {\r\n    try {\r\n      console.log(postId, \"herer post Id\");\r\n      const response = await UserPostDelete(postId);\r\n      setLoader(true);\r\n      if (response.data.success) {\r\n        setLoaderDelete(true);\r\n        toast.success(response.data.message);\r\n        let updatedPosts = response.data.newposts;\r\n        console.log(updatedPosts, \"ithannu new posts\");\r\n        dispatch(setPost({ post: updatedPosts }));\r\n        setLoading(false);\r\n        setLoader(false);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //Report Post\r\n  const reportPost = async (postId) => {\r\n    try {\r\n      console.log(postId, \"noww post Id \");\r\n      const response = await UserPostReport(postId, loggedInUserId);\r\n\r\n      console.log(response, \"report\");\r\n      if (response.data.success) {\r\n        serReportOff(false)\r\n        toast.success(response.data.message);\r\n       \r\n        // let updatedPosts = response.data.newposts;\r\n        // console.log(updatedPosts, \"ithannu new posts\");\r\n        // dispatch(setPost({ post: updatedPosts }));\r\n        console.log(\"reported\");\r\n      }else{\r\n        serReportOff(false)\r\n        toast.error(response.data.message);\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-label=\"more\"\r\n        id=\"long-button\"\r\n        aria-controls={open ? \"long-menu\" : undefined}\r\n        aria-expanded={open ? \"true\" : undefined}\r\n        onClick={handleClick}\r\n      >\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"long-menu\"\r\n        MenuListProps={{\r\n          \"aria-labelledby\": \"long-button\",\r\n        }}\r\n        anchorEl={anchorEl}\r\n        open={open}\r\n        onClose={handleClose}\r\n        PaperProps={{\r\n          style: {\r\n            maxHeight: ITEM_HEIGHT * 4.5,\r\n            width: \"40ch\",\r\n          },\r\n        }}\r\n      >\r\n        {postUserId === loggedInUserId ? (\r\n          <div>\r\n            {!deleteAlert ? (\r\n              <Button onClick={handleOpened}>Edit Post</Button>\r\n            ) : (\r\n              <Button\r\n                size=\"medium\"\r\n                onClick={() => {\r\n                  setDeleteAlert(false);\r\n                }}\r\n              >\r\n                Not Now\r\n              </Button>\r\n            )}\r\n\r\n            <Button\r\n              onClick={() => {\r\n                setDeleteAlert(true);\r\n              }}\r\n            >\r\n              {deleteAlert ? (\r\n                <div>\r\n                  <Alert\r\n                    severity=\"error\"\r\n                    action={\r\n                      <Button\r\n                        size=\"medium\"\r\n                        onClick={() => {\r\n                          deletePost(postId);\r\n                        }}\r\n                      >\r\n                        Delete\r\n                      </Button>\r\n                    }\r\n                  >\r\n                    Are You Sure?\r\n                  </Alert>\r\n                </div>\r\n              ) : (\r\n                \"Delete Post\"\r\n              )}\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            {reportOff?!reportAlert ? (\r\n              <Button\r\n                size=\"medium\"\r\n                onClick={() => {\r\n                  setReportAlert(true);\r\n                }}\r\n              >\r\n                Report\r\n              </Button>\r\n            ) : null : \"\"}\r\n\r\n            {reportOff ?reportAlert ? (\r\n              <div>\r\n                <Alert\r\n                  severity=\"warning\"\r\n                  action={\r\n                    <Button\r\n                      color=\"error\"\r\n                      size=\"medium\"\r\n                      onClick={() => {\r\n                        reportPost(postId);\r\n                      }}\r\n                    >\r\n                      Report\r\n                    </Button>\r\n                  }\r\n                >\r\n                  Are You Sure?\r\n                </Alert>\r\n              </div>\r\n            ) : (\r\n              \"\"\r\n            ) : \"\"}\r\n            {reportOff?reportAlert ? (\r\n              <Button\r\n                onClick={() => {\r\n                  setReportAlert(false);\r\n                }}\r\n              >\r\n                Go Back\r\n              </Button>\r\n            ) : null : \"\"}\r\n          </div>\r\n        )}\r\n      </Menu>\r\n\r\n      <EditPost\r\n        opened={opened}\r\n        handleClosed={handleClosed}\r\n        postId={postId}\r\n        description={description}\r\n        picturePath={picturePath}\r\n        handleClose={handleClose}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostDelete;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}